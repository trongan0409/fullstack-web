{"ast":null,"code":"import { globalEmitter } from '../share/emitter';\nimport enUS from './lang/en-US';\nimport zhCN from './lang/zh-CN';\n\nvar I18n = /*#__PURE__*/function () {\n  function I18n() {\n    this.langs = {\n      enUS: enUS,\n      zhCN: zhCN\n    };\n    this.current = 'enUS';\n    this.setUp();\n  }\n\n  var _proto = I18n.prototype;\n\n  _proto.setUp = function setUp() {\n    if (typeof window === 'undefined') {\n      // 不在浏览器环境中，取消检测\n      return;\n    }\n\n    var locale = 'enUS'; // 检测语言\n\n    if (navigator.language) {\n      var it = navigator.language.split('-');\n      locale = it[0];\n\n      if (it.length !== 1) {\n        locale += it[it.length - 1].toUpperCase();\n      }\n    } // IE10及更低版本使用browserLanguage\n    // @ts-ignore\n\n\n    if (navigator.browserLanguage) {\n      // @ts-ignore\n      var _it = navigator.browserLanguage.split('-');\n\n      locale = _it[0];\n\n      if (_it[1]) {\n        locale += _it[1].toUpperCase();\n      }\n    }\n\n    if (this.current !== locale && this.isAvailable(locale)) {\n      this.current = locale;\n      globalEmitter.emit(globalEmitter.EVENT_LANG_CHANGE, this, locale, this.langs[locale]);\n    }\n  };\n\n  _proto.isAvailable = function isAvailable(langName) {\n    return typeof this.langs[langName] !== 'undefined';\n  };\n\n  _proto.add = function add(langName, lang) {\n    this.langs[langName] = lang;\n  };\n\n  _proto.setCurrent = function setCurrent(langName) {\n    if (!this.isAvailable(langName)) {\n      throw new Error(\"Language \" + langName + \" is not exists\");\n    }\n\n    if (this.current !== langName) {\n      this.current = langName;\n      globalEmitter.emit(globalEmitter.EVENT_LANG_CHANGE, this, langName, this.langs[langName]);\n    }\n  };\n\n  _proto.get = function get(key, placeholders) {\n    var str = this.langs[this.current][key] || '';\n\n    if (placeholders) {\n      Object.keys(placeholders).forEach(function (k) {\n        str = str.replace(new RegExp(\"\\\\{\" + k + \"\\\\}\", 'g'), placeholders[k]);\n      });\n    }\n\n    return str;\n  };\n\n  _proto.getCurrent = function getCurrent() {\n    return this.current;\n  };\n\n  return I18n;\n}();\n\nvar i18n = new I18n();\nexport default i18n;","map":{"version":3,"sources":["E:/fullstack/reactjs/node_modules/react-markdown-editor-lite/esm/i18n/index.js"],"names":["globalEmitter","enUS","zhCN","I18n","langs","current","setUp","_proto","prototype","window","locale","navigator","language","it","split","length","toUpperCase","browserLanguage","_it","isAvailable","emit","EVENT_LANG_CHANGE","langName","add","lang","setCurrent","Error","get","key","placeholders","str","Object","keys","forEach","k","replace","RegExp","getCurrent","i18n"],"mappings":"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","sourcesContent":["import { globalEmitter } from '../share/emitter';\nimport enUS from './lang/en-US';\nimport zhCN from './lang/zh-CN';\n\nvar I18n = /*#__PURE__*/function () {\n  function I18n() {\n    this.langs = {\n      enUS: enUS,\n      zhCN: zhCN\n    };\n    this.current = 'enUS';\n    this.setUp();\n  }\n\n  var _proto = I18n.prototype;\n\n  _proto.setUp = function setUp() {\n    if (typeof window === 'undefined') {\n      // 不在浏览器环境中，取消检测\n      return;\n    }\n\n    var locale = 'enUS'; // 检测语言\n\n    if (navigator.language) {\n      var it = navigator.language.split('-');\n      locale = it[0];\n\n      if (it.length !== 1) {\n        locale += it[it.length - 1].toUpperCase();\n      }\n    } // IE10及更低版本使用browserLanguage\n    // @ts-ignore\n\n\n    if (navigator.browserLanguage) {\n      // @ts-ignore\n      var _it = navigator.browserLanguage.split('-');\n\n      locale = _it[0];\n\n      if (_it[1]) {\n        locale += _it[1].toUpperCase();\n      }\n    }\n\n    if (this.current !== locale && this.isAvailable(locale)) {\n      this.current = locale;\n      globalEmitter.emit(globalEmitter.EVENT_LANG_CHANGE, this, locale, this.langs[locale]);\n    }\n  };\n\n  _proto.isAvailable = function isAvailable(langName) {\n    return typeof this.langs[langName] !== 'undefined';\n  };\n\n  _proto.add = function add(langName, lang) {\n    this.langs[langName] = lang;\n  };\n\n  _proto.setCurrent = function setCurrent(langName) {\n    if (!this.isAvailable(langName)) {\n      throw new Error(\"Language \" + langName + \" is not exists\");\n    }\n\n    if (this.current !== langName) {\n      this.current = langName;\n      globalEmitter.emit(globalEmitter.EVENT_LANG_CHANGE, this, langName, this.langs[langName]);\n    }\n  };\n\n  _proto.get = function get(key, placeholders) {\n    var str = this.langs[this.current][key] || '';\n\n    if (placeholders) {\n      Object.keys(placeholders).forEach(function (k) {\n        str = str.replace(new RegExp(\"\\\\{\" + k + \"\\\\}\", 'g'), placeholders[k]);\n      });\n    }\n\n    return str;\n  };\n\n  _proto.getCurrent = function getCurrent() {\n    return this.current;\n  };\n\n  return I18n;\n}();\n\nvar i18n = new I18n();\nexport default i18n;"]},"metadata":{},"sourceType":"module"}