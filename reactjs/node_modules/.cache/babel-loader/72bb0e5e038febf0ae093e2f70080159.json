{"ast":null,"code":"import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\n\nvar TableList = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TableList, _React$Component);\n\n  function TableList(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.config = {\n      padding: 3,\n      width: 20,\n      height: 20\n    };\n    var _props$maxRow = props.maxRow,\n        maxRow = _props$maxRow === void 0 ? 5 : _props$maxRow,\n        _props$maxCol = props.maxCol,\n        maxCol = _props$maxCol === void 0 ? 6 : _props$maxCol;\n    _this.state = {\n      maxRow: maxRow,\n      maxCol: maxCol,\n      list: _this.formatTableModel(maxRow, maxCol)\n    };\n    return _this;\n  }\n\n  var _proto = TableList.prototype;\n\n  _proto.formatTableModel = function formatTableModel(maxRow, maxCol) {\n    if (maxRow === void 0) {\n      maxRow = 0;\n    }\n\n    if (maxCol === void 0) {\n      maxCol = 0;\n    }\n\n    var result = new Array(maxRow).fill(undefined);\n    return result.map(function (_) {\n      return new Array(maxCol).fill(0);\n    });\n  };\n\n  _proto.calcWrapStyle = function calcWrapStyle() {\n    var _this$state = this.state,\n        maxRow = _this$state.maxRow,\n        maxCol = _this$state.maxCol;\n    var _this$config = this.config,\n        width = _this$config.width,\n        height = _this$config.height,\n        padding = _this$config.padding;\n    var wrapWidth = (width + padding) * maxCol - padding;\n    var wrapHeight = (height + padding) * maxRow - padding;\n    return {\n      width: wrapWidth + \"px\",\n      height: wrapHeight + \"px\"\n    };\n  };\n\n  _proto.calcItemStyle = function calcItemStyle(row, col) {\n    if (row === void 0) {\n      row = 0;\n    }\n\n    if (col === void 0) {\n      col = 0;\n    }\n\n    var _this$config2 = this.config,\n        width = _this$config2.width,\n        height = _this$config2.height,\n        padding = _this$config2.padding;\n    var top = (height + padding) * row;\n    var left = (width + padding) * col;\n    return {\n      top: top + \"px\",\n      left: left + \"px\"\n    };\n  };\n\n  _proto.getList = function getList(i, j) {\n    var list = this.state.list;\n    return list.map(function (v, row) {\n      return v.map(function (_, col) {\n        return row <= i && col <= j ? 1 : 0;\n      });\n    });\n  };\n\n  _proto.handleHover = function handleHover(i, j) {\n    this.setState({\n      list: this.getList(i, j)\n    });\n  };\n\n  _proto.handleSetTable = function handleSetTable(i, j) {\n    var onSetTable = this.props.onSetTable;\n\n    if (typeof onSetTable === 'function') {\n      onSetTable({\n        row: i + 1,\n        col: j + 1\n      });\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.visibility === false && prevProps.visibility !== this.props.visibility) {\n      this.setState({\n        list: this.getList(-1, -1)\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"table-list wrap\",\n      style: this.calcWrapStyle()\n    }, this.state.list.map(function (row, i) {\n      return row.map(function (col, j) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          className: \"list-item \" + (col === 1 ? 'active' : ''),\n          key: i + \"-\" + j,\n          style: _this2.calcItemStyle(i, j),\n          onMouseOver: _this2.handleHover.bind(_this2, i, j),\n          onClick: _this2.handleSetTable.bind(_this2, i, j)\n        });\n      });\n    }));\n  };\n\n  return TableList;\n}(React.Component);\n\nexport default TableList;","map":{"version":3,"sources":["E:/fullstack/reactjs/node_modules/react-markdown-editor-lite/esm/plugins/table/table.js"],"names":["_inheritsLoose","React","TableList","_React$Component","props","_this","call","config","padding","width","height","_props$maxRow","maxRow","_props$maxCol","maxCol","state","list","formatTableModel","_proto","prototype","result","Array","fill","undefined","map","_","calcWrapStyle","_this$state","_this$config","wrapWidth","wrapHeight","calcItemStyle","row","col","_this$config2","top","left","getList","i","j","v","handleHover","setState","handleSetTable","onSetTable","componentDidUpdate","prevProps","visibility","render","_this2","createElement","className","style","key","onMouseOver","bind","onClick","Component"],"mappings":"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","sourcesContent":["import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\n\nvar TableList = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TableList, _React$Component);\n\n  function TableList(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.config = {\n      padding: 3,\n      width: 20,\n      height: 20\n    };\n    var _props$maxRow = props.maxRow,\n        maxRow = _props$maxRow === void 0 ? 5 : _props$maxRow,\n        _props$maxCol = props.maxCol,\n        maxCol = _props$maxCol === void 0 ? 6 : _props$maxCol;\n    _this.state = {\n      maxRow: maxRow,\n      maxCol: maxCol,\n      list: _this.formatTableModel(maxRow, maxCol)\n    };\n    return _this;\n  }\n\n  var _proto = TableList.prototype;\n\n  _proto.formatTableModel = function formatTableModel(maxRow, maxCol) {\n    if (maxRow === void 0) {\n      maxRow = 0;\n    }\n\n    if (maxCol === void 0) {\n      maxCol = 0;\n    }\n\n    var result = new Array(maxRow).fill(undefined);\n    return result.map(function (_) {\n      return new Array(maxCol).fill(0);\n    });\n  };\n\n  _proto.calcWrapStyle = function calcWrapStyle() {\n    var _this$state = this.state,\n        maxRow = _this$state.maxRow,\n        maxCol = _this$state.maxCol;\n    var _this$config = this.config,\n        width = _this$config.width,\n        height = _this$config.height,\n        padding = _this$config.padding;\n    var wrapWidth = (width + padding) * maxCol - padding;\n    var wrapHeight = (height + padding) * maxRow - padding;\n    return {\n      width: wrapWidth + \"px\",\n      height: wrapHeight + \"px\"\n    };\n  };\n\n  _proto.calcItemStyle = function calcItemStyle(row, col) {\n    if (row === void 0) {\n      row = 0;\n    }\n\n    if (col === void 0) {\n      col = 0;\n    }\n\n    var _this$config2 = this.config,\n        width = _this$config2.width,\n        height = _this$config2.height,\n        padding = _this$config2.padding;\n    var top = (height + padding) * row;\n    var left = (width + padding) * col;\n    return {\n      top: top + \"px\",\n      left: left + \"px\"\n    };\n  };\n\n  _proto.getList = function getList(i, j) {\n    var list = this.state.list;\n    return list.map(function (v, row) {\n      return v.map(function (_, col) {\n        return row <= i && col <= j ? 1 : 0;\n      });\n    });\n  };\n\n  _proto.handleHover = function handleHover(i, j) {\n    this.setState({\n      list: this.getList(i, j)\n    });\n  };\n\n  _proto.handleSetTable = function handleSetTable(i, j) {\n    var onSetTable = this.props.onSetTable;\n\n    if (typeof onSetTable === 'function') {\n      onSetTable({\n        row: i + 1,\n        col: j + 1\n      });\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.visibility === false && prevProps.visibility !== this.props.visibility) {\n      this.setState({\n        list: this.getList(-1, -1)\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"table-list wrap\",\n      style: this.calcWrapStyle()\n    }, this.state.list.map(function (row, i) {\n      return row.map(function (col, j) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          className: \"list-item \" + (col === 1 ? 'active' : ''),\n          key: i + \"-\" + j,\n          style: _this2.calcItemStyle(i, j),\n          onMouseOver: _this2.handleHover.bind(_this2, i, j),\n          onClick: _this2.handleSetTable.bind(_this2, i, j)\n        });\n      });\n    }));\n  };\n\n  return TableList;\n}(React.Component);\n\nexport default TableList;"]},"metadata":{},"sourceType":"module"}